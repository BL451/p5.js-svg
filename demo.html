<script src="https://unpkg.com/p5@1.3.1/lib/p5.js"></script>
<script src="../dist/p5.svg.js"></script>
<script>
    const resetCanvas = function(p) {
        // p.clear();
        p.strokeWeight(6); // for using XOR with thin line removed (using 8-connected neighborhood < 5) for diff
        p.fill(200);
        p.stroke(0);
        p.ellipseMode(p.CENTER);
        p.rectMode(p.CORNER);
        p.smooth();
        p.pixelDensity(3); // for 200% and 150%
    };

    window.p = new p5(function(p) {
        p.setup = function() {
            const svgGraphics = p.createCanvas(100, 100, p.SVG);
            p.noLoop();
            p.isSVG = true;

            resetCanvas(p);
            p.background(255, 0, 0);
            p.stroke(255);
            p.strokeWeight(10);
            p.line(0, 0, 100, 100);
            p.filter(p.THRESHOLD, 0.5);
	        
        };

    })

</script>